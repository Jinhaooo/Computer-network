<img width="1276" height="636" alt="image" src="https://github.com/user-attachments/assets/5788427d-f921-49f2-b40d-ae3f50d00b9b" /># HTTP 和 HTTPS
## HTTP和HTTPS的区别  
1.HTTPS在 TCP 和 HTTP 网络层之间加入了 SSL/TLS 安全协议，使得报文能够加密传输。  
2.HTTPS 在 TCP 三次握手之后，还需进行 SSL/TLS 的握手过程，才可进入加密报文传输。  
3.两者的默认端口不一样，HTTP 默认端口号是 80，HTTPS 默认端口号是 443。  
4.HTTPS 协议需要向 CA（证书权威机构）申请数字证书，来保证服务器的身份是可信的。  
<img width="596" height="275" alt="image" src="https://github.com/user-attachments/assets/6254fad3-e924-47e1-8462-87c34303c0e3" />  

## HTTPS是如何解决HTTP的风险的？
### 1.混合加密
通过混合加密的方式可以保证信息的机密性，解决了窃听的风险。  
<img width="613" height="471" alt="image" src="https://github.com/user-attachments/assets/3a1a45d5-00eb-418d-a88e-8ab08f47f1f3" />  
HTTPS采用的是对称加密和非对称加密的混合加密方式：  
在通信建立前，采用非对称加密的方式交换密匙。  
在通信过程中全部使用对称加密的方式加密明文数据。  
采用非对称加密的原因：  
对称加密只使用一个密匙，交换速度快，但是密匙分发的过程中不安全。而非对称加密使用两个密匙，公匙和私匙，密匙分发的安全但是速度慢。  
所以我们就用非对称加密来负责密匙分发，而用对称加密来进行数据加密，这就是非对称加密的优雅之处。  

### 2.摘要算法 + 数字签名
为了保证传输数据不被篡改，我们需要对内容加一个指纹，然后和内容一起传给对方，对方收到后，先是根据内容也计算出一个指纹，如果指纹和内容相同，那就说明没有被篡改。  
那么，在计算机里会用摘要算法（哈希函数）来计算出内容的哈希值，也就是内容的「指纹」，这个哈希值是唯一的，且无法通过哈希值推导出内容。  
<img width="1276" height="636" alt="image" src="https://github.com/user-attachments/assets/f34197d7-4141-42ce-a967-a8b60982ccda" />  
但是如果中间人替换了整个内容+指纹，客户端就无法识别这个消息是否还是由服务端发送的了，为了避免这种情况，计算机会用非对称加密算法来解决。  
这两个密钥可以双向加解密的，比如可以用公钥加密内容，然后用私钥解密，也可以用私钥加密内容，公钥解密内容。  
流程的不同，意味着目的也不相同：  
公钥加密，私钥解密。这个目的是为了保证内容传输的安全，因为被公钥加密的内容，其他人是无法解密的，只有持有私钥的人，才能解密出实际的内容；  
私钥加密，公钥解密。这个目的是为了保证消息不会被冒充，因为私钥是不可泄露的，如果公钥能正常解密出私钥加密的内容，就能证明这个消息是来源于持有私钥身份的人发送的。  
非对称加密的用途主要在于通过「私钥加密，公钥解密」的方式，来确认消息的身份，我们常说的数字签名算法，就是用的是这种方式，不过私钥加密内容不是内容本身，而是对内容的哈希值加密。  
<img width="1282" height="652" alt="image" src="https://github.com/user-attachments/assets/1a6f7cdf-7f9f-4040-84af-af347151027b" />  
私钥是由服务端保管，然后服务端会向客户端颁发对应的公钥。如果客户端收到的信息，能被公钥解密，就说明该消息是由服务器发送的。  

### 3.数字证书
现在还缺少身份验证的环节，如果有中间人直接伪造了一套公私匙呢？客户端通过公匙解密能知道数据没有被篡改，但是其实数据本身就是假的！为了解决这个冒充的问题，HTTPS采用了数字证书。  
也就是将公匙注册到CA（权威认证机构）中，就能实现身份的验证。  
<img width="779" height="577" alt="image" src="https://github.com/user-attachments/assets/c12ea6ce-3373-4252-a0bb-b7ac3139d0f1" />

## HTTPS是如何建立连接的？



